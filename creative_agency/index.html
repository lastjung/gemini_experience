<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AETHER | Future Shaping Agency</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=Space+Grotesk:wght@300;500&display=swap');

        :root {
            --bg-color: #050505;
            --text-color: #ffffff;
            --accent-cyan: #00f3ff;
            --accent-green: #ccff00;
            --accent-magenta: #ff00ff;
        }

        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none;
            /* Hide default cursor */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Space Grotesk', sans-serif;
            overflow-x: hidden;
            overscroll-behavior: none;
        }

        /* --- Canvas Background --- */
        #gl-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }

        /* --- Custom Cursor --- */
        .cursor-dot,
        .cursor-circle {
            position: fixed;
            top: 0;
            left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: exclusion;
        }

        .cursor-dot {
            width: 8px;
            height: 8px;
            background: white;
        }

        .cursor-circle {
            width: 40px;
            height: 40px;
            border: 1px solid white;
            transition: width 0.3s, height 0.3s, background-color 0.3s;
        }

        body:hover .cursor-circle.hovered {
            width: 80px;
            height: 80px;
            background-color: rgba(255, 255, 255, 0.1);
            border-color: var(--accent-cyan);
        }

        /* --- Layout & Typography --- */
        section {
            padding: 10vh 5vw;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        h1,
        h2,
        h3 {
            font-family: 'Syncopate', sans-serif;
            text-transform: uppercase;
            line-height: 0.9;
        }

        .hero-title {
            font-size: clamp(3rem, 15vw, 15rem);
            font-weight: 700;
            mix-blend-mode: difference;
            will-change: transform;
            opacity: 0;
            /* JS handles reveal */
        }

        .hero-title span {
            display: inline-block;
            transition: color 0.3s;
        }

        .hero-title:hover span {
            color: transparent;
            -webkit-text-stroke: 2px var(--accent-cyan);
        }

        /* --- About Section --- */
        .about-text {
            font-size: clamp(1.5rem, 4vw, 3rem);
            max-width: 80vw;
            line-height: 1.2;
            opacity: 0.5;
            transform: translateY(50px);
        }

        .highlight {
            color: var(--accent-green);
        }

        /* --- Work List --- */
        .work-list {
            list-style: none;
            width: 100%;
        }

        .work-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 4vh 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: padding 0.5s ease;
        }

        .work-item:hover {
            padding: 6vh 2vw;
            background: rgba(255, 255, 255, 0.02);
        }

        .work-title {
            font-size: clamp(2rem, 6vw, 6rem);
            transition: transform 0.5s cubic-bezier(0.165, 0.84, 0.44, 1), letter-spacing 0.5s;
        }

        .work-item:hover .work-title {
            transform: skewX(-10deg) translateX(20px);
            color: var(--accent-magenta);
            letter-spacing: 5px;
        }

        .work-cat {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* --- Footer --- */
        .footer-content {
            text-align: center;
        }

        .magnetic-btn {
            display: inline-block;
            padding: 2rem 4rem;
            border: 1px solid var(--text-color);
            border-radius: 100px;
            font-size: 1.5rem;
            text-transform: uppercase;
            text-decoration: none;
            color: var(--text-color);
            margin-top: 3rem;
            position: relative;
            overflow: hidden;
            transition: color 0.3s;
        }

        .magnetic-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--accent-cyan);
            border-radius: 50%;
            transform: scale(0);
            transition: transform 0.5s ease;
            z-index: -1;
        }

        .magnetic-btn:hover {
            color: #000;
            border-color: transparent;
        }

        .magnetic-btn:hover::before {
            transform: scale(2);
            /* Fill effect */
        }

        /* Utilities */
        .u-overflow-hidden {
            overflow: hidden;
        }
    </style>
</head>

<body>

    <!-- WebGL Background -->
    <canvas id="gl-canvas"></canvas>

    <!-- Custom Cursor -->
    <div class="cursor-dot"></div>
    <div class="cursor-circle"></div>

    <!-- Main Content -->
    <main>
        <section id="hero">
            <h1 class="hero-title">
                <div class="u-overflow-hidden"><span>WE</span></div>
                <div class="u-overflow-hidden"><span>SHAPE</span></div>
                <div class="u-overflow-hidden"><span>THE</span></div>
                <div class="u-overflow-hidden"><span style="color: var(--accent-cyan);">FUTURE</span></div>
            </h1>
        </section>

        <section id="about">
            <p class="about-text">
                WE ARE AETHER. AN AGENCY BORN IN THE VOID, CRAFTING <span class="highlight">DIGITAL EXPERIENCES</span>
                THAT TRANSCEND REALITY. WE DON'T JUST BUILD WEBSITES; WE ENGINEER <span
                    class="highlight">EMOTIONS</span>.
            </p>
        </section>

        <section id="work">
            <div style="margin-bottom: 2rem; opacity: 0.5;">LATEST PROJECTS</div>
            <ul class="work-list">
                <li class="work-item interactive-hover">
                    <span class="work-title">NEON GENESIS</span>
                    <span class="work-cat">WebGL Experience</span>
                </li>
                <li class="work-item interactive-hover">
                    <span class="work-title">ONYX PROTOCOL</span>
                    <span class="work-cat">Brand Identity</span>
                </li>
                <li class="work-item interactive-hover">
                    <span class="work-title">QUANTUM LEAP</span>
                    <span class="work-cat">Interactive Film</span>
                </li>
                <li class="work-item interactive-hover">
                    <span class="work-title">VOID WALKER</span>
                    <span class="work-cat">AR Campaign</span>
                </li>
            </ul>
        </section>

        <section id="contact">
            <div class="footer-content">
                <h2 style="font-size: 5vw; margin-bottom: 2rem;">READY TO ASCEND?</h2>
                <a href="#" class="magnetic-btn interactive-hover">Start A Project</a>
            </div>
        </section>
    </main>

    <!-- Dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        // --- Setup ---
        gsap.registerPlugin(ScrollTrigger);

        // --- Custom Cursor Logic ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorCircle = document.querySelector('.cursor-circle');

        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        // Add hover classes
        document.querySelectorAll('.interactive-hover').forEach(el => {
            el.addEventListener('mouseenter', () => cursorCircle.classList.add('hovered'));
            el.addEventListener('mouseleave', () => cursorCircle.classList.remove('hovered'));
        });

        // Smooth cursor follow
        function animateCursor() {
            // Lerp
            cursorX += (mouseX - cursorX) * 0.15;
            cursorY += (mouseY - cursorY) * 0.15;

            cursorDot.style.left = mouseX + 'px';
            cursorDot.style.top = mouseY + 'px';

            cursorCircle.style.left = cursorX + 'px';
            cursorCircle.style.top = cursorY + 'px';

            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        // --- Three.js WebGL Background (Liquid Particles Mesh) ---
        const canvas = document.getElementById('gl-canvas');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.z = 2; // Position camera

        const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);

        // Custom Shader Material using raw GLSL
        // Vertex Shader: Creates the wavy movement based on noise/sine
        const vertexShader = `
            uniform float uTime;
            uniform vec2 uMouse;
            varying vec2 vUv;
            varying float vElevation;

            void main() {
                vUv = uv;
                
                vec3 newPos = position;
                
                // Distance from mouse for interactive ripple
                float dist = distance(uv, uMouse);
                float influence = smoothstep(0.5, 0.0, dist) * 0.5; // Localization

                // Complex Wave Equation
                float elevation = sin(position.x * 3.0 + uTime * 0.5) * 0.1 
                                + sin(position.y * 5.0 + uTime * 0.3) * 0.1;

                elevation += sin(position.x * 10.0 + uTime) * 0.02; // Small details
                
                // Mouse interaction adds to elevation (z-axis)
                elevation += influence * sin(uTime * 2.0); 

                newPos.z += elevation;

                vElevation = elevation;

                gl_Position = projectionMatrix * modelViewMatrix * vec4(newPos, 1.0);
                gl_PointSize = 2.0; // For PointsMaterial
            }
        `;

        // Fragment Shader: Colors
        const fragmentShader = `
            uniform float uTime;
            uniform vec3 uColor1;
            uniform vec3 uColor2;
            varying float vElevation;

            void main() {
                // Mix colors based on elevation
                float mixStrength = (vElevation + 0.15) * 2.0;
                vec3 color = mix(uColor1, uColor2, mixStrength);
                
                gl_FragColor = vec4(color, 1.0);
            }
        `;

        // Create Mesh (Wireframe plane for liquid effect)
        const geometry = new THREE.PlaneGeometry(5, 5, 64, 64);
        const material = new THREE.ShaderMaterial({
            vertexShader: vertexShader,
            fragmentShader: fragmentShader,
            uniforms: {
                uTime: { value: 0 },
                uMouse: { value: new THREE.Vector2(0.5, 0.5) },
                uColor1: { value: new THREE.Color('#050505') }, // Deep Black
                uColor2: { value: new THREE.Color('#00f3ff') }  // Cyan Accent
            },
            wireframe: true,
            side: THREE.DoubleSide
        });

        const plane = new THREE.Mesh(geometry, material);
        scene.add(plane);

        // --- Extra: Particles System for "Floating" feel ---
        const particlesGeometry = new THREE.BufferGeometry();
        const count = 1000;
        const positions = new Float32Array(count * 3);

        for (let i = 0; i < count * 3; i++) {
            positions[i] = (Math.random() - 0.5) * 10;
        }

        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        const particlesMaterial = new THREE.PointsMaterial({
            color: 0xccff00,
            size: 0.015,
            transparent: true,
            opacity: 0.6
        });

        const particles = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particles);


        // --- GSAP & Interaction Sync ---
        const clock = new THREE.Clock();

        // Convert mouse to UV space (0 to 1) for shader
        let uMouseTarget = new THREE.Vector2(0.5, 0.5);
        document.addEventListener('mousemove', (e) => {
            uMouseTarget.x = e.clientX / window.innerWidth;
            uMouseTarget.y = 1.0 - (e.clientY / window.innerHeight); // Invert Y
        });

        function tick() {
            const elapsedTime = clock.getElapsedTime();

            // Update uniforms
            material.uniforms.uTime.value = elapsedTime;

            // Smooth mouse uniform
            material.uniforms.uMouse.value.lerp(uMouseTarget, 0.1);

            // Rotate entire scene slightly on scroll/time
            plane.rotation.z = elapsedTime * 0.05;
            particles.rotation.y = elapsedTime * 0.02;

            renderer.render(scene, camera);
            requestAnimationFrame(tick);
        }
        tick();

        // Resize handling
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- Scroll Interactions (GSAP) ---

        // 1. Hero Reveal
        const heroSpans = document.querySelectorAll('.hero-title span');
        gsap.to('.hero-title', { opacity: 1, duration: 0 }); // Init
        gsap.from(heroSpans, {
            y: 100,
            opacity: 0,
            duration: 1.5,
            stagger: 0.2,
            ease: "power4.out",
            delay: 0.5
        });

        // 2. About Reveal
        gsap.to('.about-text', {
            scrollTrigger: {
                trigger: '#about',
                start: 'top 75%',
                end: 'bottom top',
                scrub: 1
            },
            opacity: 1,
            y: 0,
            color: '#ffffff' // Lighten up
        });

        // 3. Background Morph on Scroll
        // Change color from Cyan to Magenta as we scroll down
        gsap.to(material.uniforms.uColor2.value, {
            scrollTrigger: {
                trigger: 'body',
                start: 'top top',
                end: 'bottom bottom',
                scrub: true
            },
            r: 1.0, // Go to Magenta (1, 0, 1)
            g: 0.0,
            b: 1.0
        });

        // 4. Work List Stagger
        gsap.from('.work-item', {
            scrollTrigger: {
                trigger: '#work',
                start: 'top 80%'
            },
            x: -100,
            opacity: 0,
            duration: 1,
            stagger: 0.2,
            ease: "power3.out"
        });

        // 5. Magnetic Button Effect (Physics)
        const btn = document.querySelector('.magnetic-btn');
        btn.addEventListener('mousemove', (e) => {
            const rect = btn.getBoundingClientRect();
            const x = e.clientX - rect.left - rect.width / 2;
            const y = e.clientY - rect.top - rect.height / 2;

            gsap.to(btn, {
                x: x * 0.3,
                y: y * 0.3,
                duration: 0.3
            });
        });

        btn.addEventListener('mouseleave', () => {
            gsap.to(btn, { x: 0, y: 0, duration: 0.5, ease: "elastic.out(1, 0.3)" });
        });

        // --- SOUND MANAGER (Procedural Audio) ---
        const SoundManager = {
            ctx: null,
            isMuted: true,
            droneOscs: [],

            init: function () {
                window.AudioContext = window.AudioContext || window.webkitAudioContext;
                this.ctx = new AudioContext();
                this.isMuted = false;
                this.startAmbientDrone();
                console.log("AETHER Audio Initialized");
            },

            createOsc: function (type, freq, detune = 0) {
                const osc = this.ctx.createOscillator();
                osc.type = type;
                osc.frequency.setValueAtTime(freq, this.ctx.currentTime);
                osc.detune.setValueAtTime(detune, this.ctx.currentTime);
                return osc;
            },

            createGain: function (val) {
                const gain = this.ctx.createGain();
                gain.gain.setValueAtTime(val, this.ctx.currentTime);
                return gain;
            },

            // 1. Ethereal "Air" Texture (No Bass Drone)
            startAmbientDrone: function () {
                if (this.isMuted) return;
                const t = this.ctx.currentTime;

                // Removed heavy sine/triangle drone.
                // Replaced with Pink Noise -> Highpass -> Airy Texture

                const bufferSize = 2 * this.ctx.sampleRate;
                const noiseBuffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
                const output = noiseBuffer.getChannelData(0);
                for (let i = 0; i < bufferSize; i++) {
                    output[i] = Math.random() * 2 - 1;
                }

                const noise = this.ctx.createBufferSource();
                noise.buffer = noiseBuffer;
                noise.loop = true;

                // Highpass filter for "Air" sound
                const filter = this.ctx.createBiquadFilter();
                filter.type = 'highpass';
                filter.frequency.value = 1000;
                filter.Q.value = 1;

                const gain = this.createGain(0.015); // Very quiet

                noise.connect(filter);
                filter.connect(gain);
                gain.connect(this.ctx.destination);

                noise.start(t);

                // Crystal Tone (Subtle)
                const crystal = this.createOsc('sine', 880);
                const crystalGain = this.createGain(0.005);

                crystal.connect(crystalGain);
                crystalGain.connect(this.ctx.destination);
                crystal.start(t);

                this.droneOscs.push(noise, crystal);
            },

            // 2. Magnetic Hover Sound (Wobble)
            playHoverSound: function () {
                if (this.isMuted || !this.ctx) return;
                const t = this.ctx.currentTime;

                // High Pitch "Data" blip instead of low wobble
                const osc = this.createOsc('sine', 800);
                const gain = this.createGain(0);

                osc.connect(gain);
                gain.connect(this.ctx.destination);

                osc.start(t);

                // Quick chirp
                gain.gain.setValueAtTime(0, t);
                gain.gain.linearRampToValueAtTime(0.03, t + 0.02);
                gain.gain.exponentialRampToValueAtTime(0.001, t + 0.1);

                osc.stop(t + 0.1);
            },

            // 3. Select Interaction
            playClickSound: function () {
                if (this.isMuted || !this.ctx) return;
                const t = this.ctx.currentTime;

                const osc = this.createOsc('sine', 1500); // Higher ping
                const gain = this.createGain(0);

                osc.connect(gain);
                gain.connect(this.ctx.destination);

                osc.start(t);
                gain.gain.setValueAtTime(0.05, t);
                gain.gain.exponentialRampToValueAtTime(0.001, t + 0.1);
                osc.stop(t + 0.1);
            }
        };

        // --- Silent Audio Wake + UI ---
        const audioStatus = document.createElement('div');
        // High visibility: Neon Green text, semi-transparent black bg
        audioStatus.style.cssText = 'position:fixed;bottom:20px;right:20px;font-size:14px;color:#fff;background:rgba(0,0,0,0.8);padding:8px 15px;border-radius:4px;letter-spacing:1px;z-index:99999;font-family:monospace;pointer-events:none;border:1px solid #555;font-weight:bold;';
        audioStatus.innerText = 'AUDIO: OFFLINE [TOUCH]';
        document.body.appendChild(audioStatus);

        const wakeAudio = () => {
            let contextResumed = false;

            if (!SoundManager.ctx) {
                SoundManager.init();
                contextResumed = true;
            } else if (SoundManager.ctx.state === 'suspended') {
                SoundManager.ctx.resume();
                contextResumed = true;
            }

            if (SoundManager.ctx && (SoundManager.ctx.state === 'running' || contextResumed)) {
                audioStatus.innerText = 'AUDIO: ONLINE';
                audioStatus.style.color = '#ccff00'; // Lime Green
                audioStatus.style.borderColor = '#ccff00';
                audioStatus.style.boxShadow = '0 0 15px rgba(204, 255, 0, 0.3)';

                SoundManager.playClickSound(); // Confirmation

                ['click', 'touchstart', 'keydown'].forEach(evt =>
                    document.removeEventListener(evt, wakeAudio)
                );
            }
        };

        ['click', 'touchstart', 'keydown'].forEach(evt =>
            document.addEventListener(evt, wakeAudio)
        );

        // --- Attach Audio to Interactions ---
        document.querySelectorAll('.interactive-hover').forEach(el => {
            el.addEventListener('mouseenter', () => {
                SoundManager.playHoverSound();
            });
            el.addEventListener('click', () => {
                SoundManager.playClickSound();
            });
        });

        // Also attach to magnetic button specific logic
        btn.addEventListener('mouseenter', () => SoundManager.playHoverSound());
        btn.addEventListener('mousedown', () => SoundManager.playClickSound()); // Stronger feedback

    </script>
</body>

</html>